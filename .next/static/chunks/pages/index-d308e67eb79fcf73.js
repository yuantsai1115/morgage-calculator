(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(559)}])},559:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(5893),s=r(7294),o=r(1799);function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=function(e){var t=e.addMortgage,r=(0,s.useState)(!1),i=r[0],c=r[1],l=(0,s.useState)({name:"",amount:0,years:0,rate:0}),u=l[0],d=l[1];return(0,n.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,n.jsxs)("button",{onClick:function(){return c(!i)},className:"w-full text-left text-sky-600 p-4 text-lg font-semibold hover:bg-gray-300 transition-colors focus:outline-none",children:["Add Mortgage",(0,n.jsx)("span",{className:"float-right transform ".concat(i?"rotate-180":""," transition-transform"),children:"\u25bc"})]}),(0,n.jsx)("div",{className:"transition-all duration-300 ease-in-out ".concat(i?"max-h-96 opacity-100":"max-h-0 opacity-0"," overflow-hidden"),children:(0,n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a((0,o.Z)({},u),{id:Date.now().toString()})),d({name:"",amount:0,years:0,rate:0}),c(!1)},className:"p-6 space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,n.jsx)("input",{type:"text",id:"name",value:u.name,onChange:function(e){return d(a((0,o.Z)({},u),{name:e.target.value}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,n.jsx)("input",{type:"number",id:"amount",value:u.amount,onChange:function(e){return d(a((0,o.Z)({},u),{amount:Number(e.target.value)}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"years",className:"block text-sm font-medium text-gray-700",children:"Years"}),(0,n.jsx)("input",{type:"number",id:"years",value:u.years,onChange:function(e){return d(a((0,o.Z)({},u),{years:Number(e.target.value)}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"rate",className:"block text-sm font-medium text-gray-700",children:"Rate (%)"}),(0,n.jsx)("input",{type:"number",id:"rate",value:u.rate,onChange:function(e){return d(a((0,o.Z)({},u),{rate:Number(e.target.value)}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50",step:"0.01",required:!0})]})]}),(0,n.jsx)("button",{type:"submit",className:"w-full bg-sky-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-sky-700 transition-colors",children:"Add Mortgage"})]})})]})};var u=function(e){return new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD"}).format(e)},d=function(e){var t=e.housePrice,r=e.deposit,s=e.mortgages,i=e.updateMortgage,c=e.removeMortgage,l=t-r,d=s.reduce((function(e,t){return e+t.amount}),0);return(0,n.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Mortgages"}),(0,n.jsxs)("p",{children:[d/l*100,"% (",u(d/1e3),"k / ",u(l/1e3),"k)"]}),l-d>0?(0,n.jsxs)("p",{children:["You need ",u((l-d)/1e3),"k more"]}):(0,n.jsxs)("p",{children:["You have ",u((d-l)/1e3),"k more"]}),0===s.length?(0,n.jsx)("p",{className:"text-gray-500",children:"No mortgages added yet."}):(0,n.jsx)("ul",{className:"space-y-4",children:s.map((function(e){return(0,n.jsxs)("li",{className:"border rounded-md p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,n.jsx)("button",{onClick:function(){return c(e.id)},className:"text-red-600 hover:text-red-800",children:"Remove"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,n.jsx)("input",{type:"number",value:e.amount,onChange:function(t){return i(a((0,o.Z)({},e),{amount:Number(t.target.value)}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Years"}),(0,n.jsx)("input",{type:"number",value:e.years,onChange:function(t){return i(a((0,o.Z)({},e),{years:Number(t.target.value)}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Rate (%)"}),(0,n.jsx)("input",{type:"number",value:e.rate,onChange:function(t){return i(a((0,o.Z)({},e),{rate:Number(t.target.value)}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50",step:"0.01"})]})]})]},e.id)}))})]})},m=function(e){var t=e.result;return(0,n.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Payment Schedule"}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("p",{className:"font-semibold",children:["Deposit required: ",u(t.deposit)]}),(0,n.jsxs)("p",{className:"font-semibold",children:["Actual mortgage amount: ",u(t.actualMortgage)]})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["weekly","fortnightly","monthly","yearly"].map((function(e){return(0,n.jsxs)("div",{className:"border rounded-md p-4",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold capitalize mb-2",children:[e," Payments"]}),(0,n.jsx)("ul",{children:(s=t.paymentSchedule[e],s.map((function(e,t){return(0,n.jsxs)("li",{className:"mb-2",children:[e.mortgageName,": ",u(e.amount)," per ",e.paymentPeriod," for ",e.periods," periods"]},t)})))}),(0,n.jsxs)("p",{className:"font-semibold",children:[(r=e,r.charAt(0).toUpperCase()+r.slice(1))," Maximum: ",u(t.paymentSchedule[e].reduce((function(e,t){return e+t.amount}),0))]})]},e);var r,s}))})]})},g=function(e,t){var r={weekly:[],fortnightly:[],monthly:[],yearly:[]};return e.forEach((function(e){var t=function(e,t,r){var n=t/12/100,s=12*r;return e*n*Math.pow(1+n,s)/(Math.pow(1+n,s)-1)}(e.amount,e.rate,e.years),n=12*t,s=[n/52,n/26,t,n],o=[52*e.years,26*e.years,12*e.years,e.years];["weekly","fortnightly","monthly","yearly"].forEach((function(t,n){r[t].push({amount:s[n],periods:o[n],mortgageId:e.id,mortgageName:e.name,paymentPeriod:t})}))})),r},f=function(){var e=(0,s.useState)({housePrice:0,deposit:0,mortgages:[]}),t=e[0],r=e[1],i=(0,s.useState)(null),u=i[0],f=i[1];(0,s.useEffect)((function(){var e=localStorage.getItem("mortgageCalculatorState");e&&r(JSON.parse(e))}),[]),(0,s.useEffect)((function(){localStorage.setItem("mortgageCalculatorState",JSON.stringify(t))}),[t]);return(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Mortgage Calculator"}),(0,n.jsxs)("div",{className:"space-x-4",children:[(0,n.jsx)("button",{onClick:function(){var e=JSON.stringify(t),r="data:application/json;charset=utf-8,"+encodeURIComponent(e),n=document.createElement("a");n.setAttribute("href",r),n.setAttribute("download","mortgage_calculator_data.json"),n.click()},className:"bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded",children:"Export Data"}),(0,n.jsxs)("label",{className:"bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded cursor-pointer inline-flex items-center",children:[(0,n.jsx)("span",{children:"Import Data"}),(0,n.jsx)("input",{type:"file",accept:".json",onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){var s=new FileReader;s.onload=function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.result;if("string"===typeof n){var s=JSON.parse(n);r(s),f(null)}},s.readAsText(n)}},className:"hidden"})]})]})]}),(0,n.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"House Details"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"housePrice",className:"block text-sm font-medium text-gray-700",children:"House Price"}),(0,n.jsx)("input",{type:"number",id:"housePrice",value:t.housePrice,onChange:function(e){return r(a((0,o.Z)({},t),{housePrice:Number(e.target.value)}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"deposit",className:"block text-sm font-medium text-gray-700",children:"Deposit"}),(0,n.jsx)("input",{type:"number",id:"deposit",value:t.deposit,onChange:function(e){return r(a((0,o.Z)({},t),{deposit:Number(e.target.value)}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50"})]})]})]}),(0,n.jsx)(d,{housePrice:t.housePrice,deposit:t.deposit,mortgages:t.mortgages,updateMortgage:function(e){r((function(t){return a((0,o.Z)({},t),{mortgages:t.mortgages.map((function(t){return t.id===e.id?e:t}))})}))},removeMortgage:function(e){r((function(t){return a((0,o.Z)({},t),{mortgages:t.mortgages.filter((function(t){return t.id!==e}))})}))}}),(0,n.jsx)(l,{addMortgage:function(e){r((function(t){return a((0,o.Z)({},t),{mortgages:c(t.mortgages).concat([e])})}))}}),(0,n.jsx)("button",{onClick:function(){if(t.mortgages.reduce((function(e,t){return e+t.amount}),0)===t.housePrice-t.deposit){var e=function(e){var t=e.housePrice,r=e.deposit,n=e.mortgages,s=t-r;return n.reduce((function(e,t){return e+t.amount}),0),{deposit:r,actualMortgage:s,paymentSchedule:g(n)}}(t);f(e)}else alert("The sum of the mortgages does not match the mortgage needed for the house.")},className:"w-full bg-sky-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-sky-700 transition-colors",children:"Calculate Payments"}),u&&(0,n.jsx)(m,{result:u})]})};function h(){return(0,n.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,n.jsx)(f,{})})}}},function(e){e.O(0,[774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);